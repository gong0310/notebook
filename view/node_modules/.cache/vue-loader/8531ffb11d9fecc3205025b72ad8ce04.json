{"remainingRequest":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue?vue&type=template&id=764c55d7&scoped=true&bindings={\"goback\":\"setup\",\"submit\":\"setup\"}","dependencies":[{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue","mtime":1600486781765},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImFkZCI+DQogICAgPGRpdiBjbGFzcz0iaGVhZGVyIj4NCiAgICAgIDxzcGFuIGNsYXNzPSJiYWNrIiBAY2xpY2s9ImdvYmFjayI+DQogICAgICAgIDxpIGNsYXNzPSJmYSBmYS1hcnJvdy1sZWZ0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPg0KICAgICAgPC9zcGFuPnt7aGVhZGVyfX0NCiAgICAgIDxzcGFuIGNsYXNzPSJjaGVjayI+DQogICAgICAgIDxpIGNsYXNzPSJmYSBmYS1jaGVjayIgQGNsaWNrPSJzdWJtaXQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+DQogICAgICA8L3NwYW4+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iY29udGVudCI+DQogICAgICA8ZGl2IGNsYXNzPSJ0aXRsZSI+DQogICAgICAgIDxzcGFuPuagh+mimO+8mjwvc3Bhbj4NCiAgICAgICAgPGlucHV0IHYtbW9kZWwudHJpbT0idGl0bGUiIHR5cGU9InRleHQiIC8+DQogICAgICA8L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9ImNoYWciPg0KICAgICAgICA8c3BhbiBjbGFzcz0iYWN0Ij7lhazlvIA8L3NwYW4+DQogICAgICAgIDxzcGFuPuaChOaChOivnTwvc3Bhbj4NCiAgICAgIDwvZGl2Pg0KICAgICAgPGRpdiBjbGFzcz0iY29udCI+DQogICAgICAgIDxzcGFuPuWGheWuue+8mjwvc3Bhbj4NCiAgICAgICAgPHRleHRhcmVhIHYtbW9kZWwudHJpbT0iY29udGVudCI+PC90ZXh0YXJlYT4NCiAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InRvYXN0IiB2LXNob3c9ImlzdG9hc3QiPnt7dG9hc3R9fTwvZGl2Pg0KICA8L2Rpdj4NCg=="},{"version":3,"sources":["C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue"],"names":[],"mappings":"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","file":"C:/Users/26917/Desktop/mydemo/notebook/view/src/views/Add.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"add\">\r\n    <div class=\"header\">\r\n      <span class=\"back\" @click=\"goback\">\r\n        <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\r\n      </span>{{header}}\r\n      <span class=\"check\">\r\n        <i class=\"fa fa-check\" @click=\"submit\" aria-hidden=\"true\"></i>\r\n      </span>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"title\">\r\n        <span>标题：</span>\r\n        <input v-model.trim=\"title\" type=\"text\" />\r\n      </div>\r\n      <div class=\"chag\">\r\n        <span class=\"act\">公开</span>\r\n        <span>悄悄话</span>\r\n      </div>\r\n      <div class=\"cont\">\r\n        <span>内容：</span>\r\n        <textarea v-model.trim=\"content\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"toast\" v-show=\"istoast\">{{toast}}</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { addbook, editbook, updatebook } from \"../api\";\r\nimport { toRefs, reactive, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const state = reactive({\r\n      title: \"\",\r\n      content: \"\",\r\n      istoast: false,\r\n      toast: \"\",\r\n      header:'添加便签'\r\n    });\r\n    onMounted(() => {\r\n      if (route.query._id) {\r\n        state.header='编辑便签'\r\n        editbook({\r\n          _id: route.query._id,\r\n        }).then((res) => {\r\n          state.title = res.data.title;\r\n          state.content = res.data.content;\r\n        });\r\n      }else{\r\n         state.header='添加便签'\r\n      }\r\n    });\r\n    const goback = () => {\r\n      router.go(-1);\r\n    };\r\n    //消息微提示\r\n    const tips = (title) => {\r\n      clearTimeout(state.tipTimer);\r\n      state.toast = title;\r\n      state.istoast = true;\r\n      state.tipTimer = setTimeout(() => {\r\n        state.istoast = false;\r\n      }, 1500);\r\n    };\r\n    const submit = () => {\r\n      if (!state.title || !state.content) {\r\n        tips('请输入完整信息')\r\n        return;\r\n      }\r\n      if (!route.query._id) {\r\n        addbook({\r\n          title: state.title,\r\n          content: state.content,\r\n        }).then((res) => {\r\n          if (res.status == 200) {\r\n            router.push(\"/\");\r\n          }\r\n        });\r\n      } else {\r\n        \r\n        updatebook({\r\n          _id: route.query._id,\r\n          title: state.title,\r\n          content: state.content,\r\n        })\r\n          .then((res) => {\r\n            if (res.status == 200) {\r\n              router.push(\"/\");\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    };\r\n    return {\r\n      ...toRefs(state),\r\n      goback,\r\n      submit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.add {\r\n  .toast {\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%);\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    z-index: 100;\r\n    color: #fff;\r\n    font-size: 0.6rem;\r\n    padding: 0.533333rem;\r\n  }\r\n\r\n  .header {\r\n    height: 3rem;\r\n    line-height: 3rem;\r\n    background-color: #b0d6e1;\r\n    font-size: 0.8rem;\r\n    position: relative;\r\n    color: #fff;\r\n    .back {\r\n      position: absolute;\r\n      left: 0.533333rem;\r\n    }\r\n    .check {\r\n      position: absolute;\r\n      right: 0.533333rem;\r\n    }\r\n  }\r\n  .content {\r\n    background-image: url(\"../assets/img/bc2.jpg\");\r\n    background-position-x: 50%;\r\n    padding: 0.533333rem;\r\n    text-align: left;\r\n    font-size: 0.8rem;\r\n    min-height: 90vh;\r\n    .chag{\r\n      height: 2.133333rem;\r\n      line-height: 2.133333rem;\r\n      span{\r\n        padding: 0.266667rem 0.133333rem;\r\n        border-radius: 0.266667rem;\r\n        background-color: #fff;\r\n        margin: 0 0.533333rem;\r\n        color: #B0D6E1;\r\n      }\r\n      .act{\r\n        color:#ECE8DC;\r\n      }\r\n    }\r\n    .title {\r\n      margin: 0.533333rem 0;\r\n      span {\r\n        width: 20%;\r\n      }\r\n      input {\r\n        border-bottom: 0.026667rem solid #fff;\r\n        width: 80%;\r\n        letter-spacing: 0.16rem;\r\n      }\r\n    }\r\n    .cont {\r\n      span {\r\n        width: 20%;\r\n      }\r\n      textarea {\r\n        vertical-align: top;\r\n        letter-spacing: 0.16rem;\r\n        width: 80%;\r\n        min-height: 50vh;\r\n        border: none;\r\n        outline: none;\r\n        background: transparent;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}