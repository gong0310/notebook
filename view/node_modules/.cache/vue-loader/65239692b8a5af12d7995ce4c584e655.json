{"remainingRequest":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue","mtime":1600316883666},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBhZGRib29rLCBlZGl0Ym9vaywgdXBkYXRlYm9vayB9IGZyb20gIi4uL2FwaSI7DQppbXBvcnQgeyB0b1JlZnMsIHJlYWN0aXZlLCBvbk1vdW50ZWQgfSBmcm9tICJ2dWUiOw0KaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VSb3V0ZSB9IGZyb20gInZ1ZS1yb3V0ZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBzZXR1cCgpIHsNCiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsNCiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7DQogICAgY29uc3Qgc3RhdGUgPSByZWFjdGl2ZSh7DQogICAgICB0aXRsZTogIiIsDQogICAgICBjb250ZW50OiAiIiwNCiAgICB9KTsNCiAgICBvbk1vdW50ZWQoKCkgPT4gew0KICAgICAgaWYgKHJvdXRlLnF1ZXJ5Ll9pZCkgew0KICAgICAgICBlZGl0Ym9vayh7DQogICAgICAgICAgX2lkOiByb3V0ZS5xdWVyeS5faWQsDQogICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgc3RhdGUudGl0bGUgPSByZXMuZGF0YS50aXRsZTsNCiAgICAgICAgICBzdGF0ZS5jb250ZW50ID0gcmVzLmRhdGEuY29udGVudDsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSk7DQogICAgY29uc3QgZ29iYWNrID0gKCkgPT4gew0KICAgICAgcm91dGVyLmdvKC0xKTsNCiAgICB9Ow0KICAgIC8vIGNvbnNvbGUubG9nKHJvdXRlLnF1ZXJ5Ll9pZCkNCiAgICBjb25zdCBzdWJtaXQgPSAoKSA9PiB7DQogICAgICBpZiAoIXJvdXRlLnF1ZXJ5Ll9pZCkgew0KICAgICAgICAvLyBhZGRib29rKHsNCiAgICAgICAgLy8gICB0aXRsZTogc3RhdGUudGl0bGUsDQogICAgICAgIC8vICAgY29udGVudDogc3RhdGUuY29udGVudCwNCiAgICAgICAgLy8gfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgLy8gICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgLy8gICAgIHJvdXRlci5wdXNoKCIvIik7DQogICAgICAgIC8vICAgfQ0KICAgICAgICAvLyB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHVwZGF0ZWJvb2soew0KICAgICAgICAgIF9pZDogcm91dGUucXVlcnkuX2lkLA0KICAgICAgICAgIHRpdGxlOiBzdGF0ZS50aXRsZSwNCiAgICAgICAgICBjb250ZW50OiBzdGF0ZS5jb250ZW50LA0KICAgICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAvLyAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICAvLyAgICAgcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgLy8gICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH07DQogICAgcmV0dXJuIHsNCiAgICAgIC4uLnRvUmVmcyhzdGF0ZSksDQogICAgICBnb2JhY2ssDQogICAgICBzdWJtaXQsDQogICAgfTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue"],"names":[],"mappings":"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","file":"C:/Users/26917/Desktop/mydemo/notebook/view/src/views/Add.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"add\">\r\n    <div class=\"header\">\r\n      <span @click=\"goback\">\r\n        <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\r\n      </span>添加便签\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"title\">\r\n        <span>标题：</span>\r\n        <input v-model.trim=\"title\" type=\"text\" />\r\n      </div>\r\n      <div class=\"cont\">\r\n        <span>内容：</span>\r\n        <textarea v-model.trim=\"content\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"submit\" @click=\"submit\">保存</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { addbook, editbook, updatebook } from \"../api\";\r\nimport { toRefs, reactive, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const state = reactive({\r\n      title: \"\",\r\n      content: \"\",\r\n    });\r\n    onMounted(() => {\r\n      if (route.query._id) {\r\n        editbook({\r\n          _id: route.query._id,\r\n        }).then((res) => {\r\n          console.log(res);\r\n          state.title = res.data.title;\r\n          state.content = res.data.content;\r\n        });\r\n      }\r\n    });\r\n    const goback = () => {\r\n      router.go(-1);\r\n    };\r\n    // console.log(route.query._id)\r\n    const submit = () => {\r\n      if (!route.query._id) {\r\n        // addbook({\r\n        //   title: state.title,\r\n        //   content: state.content,\r\n        // }).then((res) => {\r\n        //   console.log(res);\r\n        //   if (res.status == 200) {\r\n        //     router.push(\"/\");\r\n        //   }\r\n        // });\r\n      } else {\r\n        updatebook({\r\n          _id: route.query._id,\r\n          title: state.title,\r\n          content: state.content,\r\n        }).then((res) => {\r\n          console.log(res);\r\n        //   if (res.status == 200) {\r\n        //     router.push(\"/\");\r\n        //   }\r\n        });\r\n      }\r\n    };\r\n    return {\r\n      ...toRefs(state),\r\n      goback,\r\n      submit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.add {\r\n  .header {\r\n    height: 3.2rem;\r\n    line-height: 3.2rem;\r\n    background-color: #305cc7;\r\n    font-size: 0.8rem;\r\n    position: relative;\r\n    color: #fff;\r\n    span {\r\n      position: absolute;\r\n      left: 0.533333rem;\r\n    }\r\n  }\r\n  .content {\r\n    background-image: url(\"../assets/img/bc2.jpg\");\r\n    background-position-x: 50%;\r\n    padding: 0.533333rem;\r\n    text-align: left;\r\n    font-size: 0.8rem;\r\n    .title {\r\n      margin: 0.533333rem 0;\r\n      span {\r\n        width: 20%;\r\n      }\r\n      input {\r\n        border-bottom: 0.026667rem solid #fff;\r\n        width: 80%;\r\n      }\r\n    }\r\n    .cont {\r\n      span {\r\n        width: 20%;\r\n      }\r\n      textarea {\r\n        vertical-align: top;\r\n        width: 80%;\r\n        min-height: 80vh;\r\n        border: none;\r\n        outline: none;\r\n        background: transparent;\r\n      }\r\n    }\r\n  }\r\n  .submit {\r\n    width: 8rem;\r\n    height: 2.133333rem;\r\n    line-height: 2.133333rem;\r\n    font-size: 0.9rem;\r\n    border-radius: 0.533333rem;\r\n    color: #fff;\r\n    background-color: #305cc7;\r\n    position: fixed;\r\n    bottom: 1.066667rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n</style>"]}]}