{"remainingRequest":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\uilt\\websocket.js","dependencies":[{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\uilt\\websocket.js","mtime":1600930220353},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy8yNjkxNy9EZXNrdG9wL215ZGVtby9ub3RlYm9vay92aWV3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovVXNlcnMvMjY5MTcvRGVza3RvcC9teWRlbW8vbm90ZWJvb2svdmlldy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6L1VzZXJzLzI2OTE3L0Rlc2t0b3AvbXlkZW1vL25vdGVib29rL3ZpZXcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBTb2NrZXRTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTb2NrZXRTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldFNlcnZpY2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAid3MiLCBudWxsKTsKICB9CgogIF9jcmVhdGVDbGFzcyhTb2NrZXRTZXJ2aWNlLCBbewogICAga2V5OiAiY29ubmVjdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdCgpIHsKICAgICAgaWYgKCF3aW5kb3cuV2ViU29ja2V0KSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCfmgqjnmoTmtY/op4jlmajkuI3mlK/mjIFXZWJTb2NrZXQnKTsKICAgICAgfQoKICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vbG9jYWxob3N0Ojk5OTgnKTsKCiAgICAgIHRoaXMud3Mub25vcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCfov57mjqXmnI3liqHlmajmiJDlip/kuoYnKTsKICAgICAgfTsKCiAgICAgIHRoaXMud3Mub25jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygn6L+e5o6l5pyN5Yqh5Zmo5aSx6LSl5LqGJyk7CiAgICAgIH07CgogICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICBjb25zb2xlLmxvZygn5o6l5pS25Yiw5LuO5pyN5Yqh56uv5Y+R5p2l5pWw5o2uJywgbXNnKTsKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kKHBhcmFtcykgewogICAgICAvL+WPkemAgQogICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJJbnN0YW5jZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKSB7CiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBTb2NrZXRTZXJ2aWNlKCd3czovL2xvY2FsaG9zdDo5OTk4Jyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNvY2tldFNlcnZpY2U7Cn0oKTsKCl9kZWZpbmVQcm9wZXJ0eShTb2NrZXRTZXJ2aWNlLCAiaW5zdGFuY2UiLCBudWxsKTsKCmV4cG9ydCBkZWZhdWx0IFNvY2tldFNlcnZpY2U7"},{"version":3,"sources":["C:/Users/26917/Desktop/mydemo/notebook/view/src/uilt/websocket.js"],"names":["SocketService","window","WebSocket","console","log","ws","onopen","onclose","onmessage","msg","params","send","JSON","stringify","instance"],"mappings":";;;;IAAMA,a;;;;gCAQG,I;;;;;8BACK;AACN,UAAI,CAACC,MAAM,CAACC,SAAZ,EAAuB;AACnB,eAAOC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAP;AACH;;AACD,WAAKC,EAAL,GAAU,IAAIH,SAAJ,CAAc,qBAAd,CAAV;;AACA,WAAKG,EAAL,CAAQC,MAAR,GAAiB,YAAM;AACnBH,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH,OAFD;;AAGA,WAAKC,EAAL,CAAQE,OAAR,GAAkB,YAAM;AACpBJ,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH,OAFD;;AAGA,WAAKC,EAAL,CAAQG,SAAR,GAAoB,UAACC,GAAD,EAAS;AACzBN,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BK,GAA3B;AACH,OAFD;AAGH;;;yBACIC,M,EAAO;AAAC;AACT,WAAKL,EAAL,CAAQM,IAAR,CAAaC,IAAI,CAACC,SAAL,CAAeH,MAAf,CAAb;AACH;;;wBAxBqB;AAClB,UAAI,CAAC,KAAKI,QAAV,EAAoB;AAChB,aAAKA,QAAL,GAAgB,IAAId,aAAJ,CAAkB,qBAAlB,CAAhB;AACH;;AACD,aAAO,KAAKc,QAAZ;AACH;;;;;;gBAPCd,a,cACgB,I;;AA2BtB,eAAeA,aAAf","sourcesContent":["class SocketService {\r\n    static instance = null\r\n    static get Instance() {\r\n        if (!this.instance) {\r\n            this.instance = new SocketService('ws://localhost:9998')\r\n        }\r\n        return this.instance\r\n    }\r\n    ws = null\r\n    connect() {\r\n        if (!window.WebSocket) {\r\n            return console.log('您的浏览器不支持WebSocket')\r\n        }\r\n        this.ws = new WebSocket('ws://localhost:9998')\r\n        this.ws.onopen = () => {\r\n            console.log('连接服务器成功了')\r\n        }\r\n        this.ws.onclose = () => {\r\n            console.log('连接服务器失败了')\r\n        }\r\n        this.ws.onmessage = (msg) => {\r\n            console.log('接收到从服务端发来数据', msg)\r\n        }\r\n    }\r\n    send(params){//发送\r\n        this.ws.send(JSON.stringify(params))\r\n    }\r\n}\r\nexport default SocketService"]}]}