{"remainingRequest":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue?vue&type=template&id=764c55d7&scoped=true&bindings={\"goback\":\"setup\",\"submit\":\"setup\"}","dependencies":[{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue","mtime":1600316588882},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi03NjRjNTVkNyIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtNzY0YzU1ZDciKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiYWRkIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImhlYWRlciIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaSIsIHsKICBjbGFzczogImZhIGZhLWFycm93LWxlZnQiLAogICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLmt7vliqDkvr/nrb4gIik7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImNvbnRlbnQiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAidGl0bGUiCn07Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInNwYW4iLCBudWxsLCAi5qCH6aKY77yaIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJjb250Igp9OwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgIuWGheWuue+8miIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5nb2JhY2suYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2hvaXN0ZWRfM10pLCBfaG9pc3RlZF80XSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19ob2lzdGVkXzcsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHgudGl0bGUgPSAkZXZlbnQ7CiAgICB9KSwKICAgIHR5cGU6ICJ0ZXh0IgogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCBfY3R4LnRpdGxlLCB2b2lkIDAsIHsKICAgIHRyaW06IHRydWUKICB9XV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19ob2lzdGVkXzksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoInRleHRhcmVhIiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHguY29udGVudCA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsIF9jdHguY29udGVudCwgdm9pZCAwLCB7CiAgICB0cmltOiB0cnVlCiAgfV1dKV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJzdWJtaXQiLAogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuc3VibWl0LmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIuS/neWtmCIpXSk7Cn0pOw=="},{"version":3,"sources":["C:\\Users\\26917\\Desktop\\mydemo\\notebook\\view\\src\\views\\Add.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BAEP,YAAA,CAAmD,GAAnD,EAAmD;AAAhD,EAAA,KAAK,EAAC,kBAA0C;AAAvB,iBAAY;AAAW,CAAnD,E,IAAA,E;;AAAA,C;;+CACK,O;;;AAEJ,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAgB,MAAhB,EAAgB,IAAhB,EAAM,KAAN,EAAS,CAAA;AAAA;AAAT,C;;;AAGG,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAgB,MAAhB,EAAgB,IAAhB,EAAM,KAAN,EAAS,CAAA;AAAA;AAAT,C;;;;;uBAZN,YAAA,CAiBM,KAjBN,EAAA,UAAA,EAiBM,CAhBJ,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAEO,MAFP,EAEO;AAFA,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,MAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAEL,GAFP,E,CACE,U,CADF,CAGI,E,UAAA,CAJN,CAgBI,EAXJ,YAAA,CASM,KATN,EAAA,UAAA,EASM,CARJ,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,E,gBADJ,YAAA,CAA0C,OAA1C,EAA0C;;aAArB,IAAA,CAAA,KAAA,GAAK,M;MAAgB;AAAd,IAAA,IAAI,EAAC;AAAS,GAA1C,E,IAAA,E;;AAAA,G,iBAAqB,IAAA,CAAA,K;UAAd;MACH,CAHN,CAQI,EAJJ,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,E,gBADJ,YAAA,CAA4C,UAA5C,EAA4C;;aAApB,IAAA,CAAA,OAAA,GAAO,M;;AAAa,GAA5C,E,IAAA,E;;AAAA,G,iBAAwB,IAAA,CAAA,O;UAAd;MACN,CAHN,CAII,CATN,CAWI,EADJ,YAAA,CAA4C,KAA5C,EAA4C;AAAvC,IAAA,KAAK,EAAC,QAAiC;AAAvB,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,MAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAAkB,GAA5C,EAAoC,IAApC,CACI,CAjBN,C","sourcesContent":["<template>\r\n  <div class=\"add\">\r\n    <div class=\"header\">\r\n      <span @click=\"goback\">\r\n        <i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\r\n      </span>添加便签\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"title\">\r\n        <span>标题：</span>\r\n        <input v-model.trim=\"title\" type=\"text\" />\r\n      </div>\r\n      <div class=\"cont\">\r\n        <span>内容：</span>\r\n        <textarea v-model.trim=\"content\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"submit\" @click=\"submit\">保存</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { addbook, editbook, updatebook } from \"../api\";\r\nimport { toRefs, reactive, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const state = reactive({\r\n      title: \"\",\r\n      content: \"\",\r\n    });\r\n    onMounted(() => {\r\n      if (route.query._id) {\r\n        editbook({\r\n          _id: route.query._id,\r\n        }).then((res) => {\r\n          console.log(res);\r\n          state.title = res.data.title;\r\n          state.content = res.data.content;\r\n        });\r\n      }\r\n    });\r\n    const goback = () => {\r\n      router.go(-1);\r\n    };\r\n    // console.log(route.query._id)\r\n    const submit = () => {\r\n      if (!route.query._id) {\r\n        addbook({\r\n          title: state.title,\r\n          content: state.content,\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if (res.status == 200) {\r\n            router.push(\"/\");\r\n          }\r\n        });\r\n      } else {\r\n        updatebook({\r\n          _id: route.query._id,\r\n          title: state.title,\r\n          content: state.content,\r\n        }).then((res) => {\r\n          console.log(res);\r\n        //   if (res.status == 200) {\r\n        //     router.push(\"/\");\r\n        //   }\r\n        });\r\n      }\r\n    };\r\n    return {\r\n      ...toRefs(state),\r\n      goback,\r\n      submit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.add {\r\n  .header {\r\n    height: 3.2rem;\r\n    line-height: 3.2rem;\r\n    background-color: #305cc7;\r\n    font-size: 0.8rem;\r\n    position: relative;\r\n    color: #fff;\r\n    span {\r\n      position: absolute;\r\n      left: 0.533333rem;\r\n    }\r\n  }\r\n  .content {\r\n    background-image: url(\"../assets/img/bc2.jpg\");\r\n    background-position-x: 50%;\r\n    padding: 0.533333rem;\r\n    text-align: left;\r\n    font-size: 0.8rem;\r\n    .title {\r\n      margin: 0.533333rem 0;\r\n      span {\r\n        width: 20%;\r\n      }\r\n      input {\r\n        border-bottom: 0.026667rem solid #fff;\r\n        width: 80%;\r\n      }\r\n    }\r\n    .cont {\r\n      span {\r\n        width: 20%;\r\n      }\r\n      textarea {\r\n        vertical-align: top;\r\n        width: 80%;\r\n        min-height: 80vh;\r\n        border: none;\r\n        outline: none;\r\n        background: transparent;\r\n      }\r\n    }\r\n  }\r\n  .submit {\r\n    width: 8rem;\r\n    height: 2.133333rem;\r\n    line-height: 2.133333rem;\r\n    font-size: 0.9rem;\r\n    border-radius: 0.533333rem;\r\n    color: #fff;\r\n    background-color: #305cc7;\r\n    position: fixed;\r\n    bottom: 1.066667rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n</style>"],"sourceRoot":""}]}